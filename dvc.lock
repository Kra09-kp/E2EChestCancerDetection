schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 61a6a6cd38e9de53ae829f3b9c1e8fd1
      size: 580
    - path: src/cnnClassifier/pipeline/stage01_data_ingestion.py
      hash: md5
      md5: 6ca2b9b05926e74d0c0dc635b24817ec
      size: 1063
    outs:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 3ddc2c0e262e947578d73eeec3119af6.dir
      size: 124956798
      nfiles: 1000
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 61a6a6cd38e9de53ae829f3b9c1e8fd1
      size: 580
    - path: src/cnnClassifier/pipeline/stage02_prepare_base_model.py
      hash: md5
      md5: eb31a74b89685e78569d39006ea45ca4
      size: 1264
    params:
      params.yaml:
        AUGMENTATION: false
        BATCH_SIZE: 16
        CLASSES: 4
        EPOCHS: 1
        FREEZE_ALL: true
        FREEZE_TILL: None
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
        WEIGHTS: VGG16_Weights.IMAGENET1K_V1
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 18d3b9c5b04f5451a6fad5fd70e8f2dd.dir
      size: 221590534
      nfiles: 2
  train_model:
    cmd: python src/cnnClassifier/pipeline/stage03_training_model.py
    deps:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 3ddc2c0e262e947578d73eeec3119af6.dir
      size: 124956798
      nfiles: 1000
    - path: artifacts/prepare_base_model
      hash: md5
      md5: 18d3b9c5b04f5451a6fad5fd70e8f2dd.dir
      size: 221590534
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 61a6a6cd38e9de53ae829f3b9c1e8fd1
      size: 580
    - path: src/cnnClassifier/pipeline/stage03_training_model.py
      hash: md5
      md5: 4edfd7db77b719db8151912b43ac959d
      size: 950
    params:
      params.yaml:
        AUGMENTATION: false
        BATCH_SIZE: 16
        CLASSES: 4
        EPOCHS: 1
        FREEZE_ALL: true
        FREEZE_TILL: None
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
        WEIGHTS: VGG16_Weights.IMAGENET1K_V1
    outs:
    - path: artifacts/train_model
      hash: md5
      md5: ba5a75bd0150be7a835ff4600263d23c.dir
      size: 325441694
      nfiles: 2
  model_evaluation:
    cmd: python src/cnnClassifier/pipeline/stage04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/Data
      hash: md5
      md5: 3ddc2c0e262e947578d73eeec3119af6.dir
      size: 124956798
      nfiles: 1000
    - path: artifacts/train_model/best_model.pth
      hash: md5
      md5: 3b6d9596015d57098c7799a60b668024
      size: 162722210
    - path: config/config.yaml
      hash: md5
      md5: 61a6a6cd38e9de53ae829f3b9c1e8fd1
      size: 580
    - path: src/cnnClassifier/pipeline/stage04_model_evaluation.py
      hash: md5
      md5: d72bac740f1afd77baf3bcbff6f05bdb
      size: 1027
    params:
      params.yaml:
        AUGMENTATION: false
        BATCH_SIZE: 16
        CLASSES: 4
        EPOCHS: 1
        FREEZE_ALL: true
        FREEZE_TILL: None
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
        WEIGHTS: VGG16_Weights.IMAGENET1K_V1
    outs:
    - path: scores.json
      hash: md5
      md5: 7d2c22d200829d584eba8c6f3e4fc3b1
      size: 67
